{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-ac0d6e3701ccca81.js","src/library.js","src/js/galery-library.js","node_modules/@parcel/runtime-js/lib/runtime-583b0f9d048b570b.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library.6ee56ce5.js\\\",\\\"3ySAM\\\":\\\"reitingfull.b145141b.svg\\\",\\\"eunLf\\\":\\\"catalog.c0b84dd7.css\\\",\\\"hBuIx\\\":\\\"library.a2356d14.js\\\"}\"));","import './js/pre-loader-spinner';\nimport './js/mobile-menu';\nimport './js/activMenu';\nimport './js/modal-trailer';\nimport './js/hero';\nimport './js/theme-switcher';\nimport './js/modal-footer';\nimport './js/galery-library';\n","import {fetchAllGet} from './fetchAllGet';\nimport { refs } from \"./refs\";\nimport ratingStarFull from '../images/reitingfull.svg';\n\n// import { createMarkup } from './catalog-search-and-markup';\nconst BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = '5bf13f442a6612ea903461e28536fdca' \nconst BASE_IMG_URL_w500 = 'https://image.tmdb.org/t/p/w500/';\n\nif(!JSON.parse(localStorage.getItem(\"favoriteFilm\"))){\n  console.log(JSON.parse(localStorage.getItem(\"favoriteFilm\")));\n  const str=`<div class=\"galery-library-text\"><span>OOPS...</span><span>We are very sorry!</span><span>You donâ€™t have any movies at your library.</span></div>`;\n  refs.galeryLibrary.insertAdjacentHTML('beforeend', str);\n  refs.galeryLibraryBtn.textContent=\"Search movie\";\n}\nelse \n{\nconst idFilm ={\n    id: [...JSON.parse(localStorage.getItem(\"favoriteFilm\")).id],\n    id_9:[],\n    id_j:[],\n    page: 1,\n}\n\nidFilm.id.map((el,i)=>{\n  i++;\n  idFilm.id_j.push(el);\n  if(i%9===0){\n    idFilm.id_9.push(idFilm.id_j);\n    idFilm.id_j=[];\n  }\n});\nidFilm.id_9.push(idFilm.id_j)\n\nif(idFilm.id.length){\n  refs.galeryLibraryBtn.textContent=\"Load more\";\n  pageCardFilm(0);\n  if(idFilm.id_9.length===idFilm.page){\n    refs.galeryLibraryBtn.classList.toggle('hidden');\n    \n  }\n}\n\nfunction pageCardFilm(n){\n      idFilm.id_9[n].map((el,i)=>{const ENDPOINT = `/3/movie/${el}`;\n      fetchAllGet(BASE_URL, ENDPOINT, API_KEY,'&language=en-US&page=1')\n      .then(markUp)\n      .catch(console.log);\n      })\n  }\n\nfunction markUp(data){\n  \n    const { original_title, poster_path, vote_average, genre_ids, release_date, id } = data.data;\n    const cardFilm = `\n      <div class=\"card-film\" id=\"${id}\">\n        <div class=\"card-backdrop\"></div>\n        <img\n          class=\"card-img\"\n          src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n          alt=\"\"\n          loading=\"lazy\"\n          srcset=\"\n            https://image.tmdb.org/t/p/w500${poster_path} 1x,\n            https://image.tmdb.org/t/p/w500${poster_path} 2x\n          \"\n        />\n        <div class=\"card-info-section\">\n          <h3 class=\"card-info-title\">${original_title}</h3>\n          <div class=\"card-info\">\n            <p class=\"card-info-text\">\n              ${String(release_date).slice(0, 4)} | ${genre_ids}\n            </p>\n            <ul class=\"card-vote\">\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}g\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n    `;\n    refs.galeryLibrary.insertAdjacentHTML('beforeend', cardFilm);\n    \n}\n\nrefs.galeryLibraryBtn.addEventListener('click', handlerBtnLoad);\n\nfunction handlerBtnLoad(e){\n  e.preventDefault();\n  pageCardFilm(idFilm.page++);\n  // console.log(idFilm.id_9.length, idFilm.page);\n  if(idFilm.id_9.length===idFilm.page){\n    e.currentTarget.classList.toggle('hidden');\n    e.currentTarget.removeEventListener('click', handlerBtnLoad);\n    \n  } \n}\n}","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"3ySAM\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$8nrFW","$0a0ec80d84cd6ca1$exports","getBundleURL","resolve","localStorage","getItem","$d00c33acaff8df77$var$idFilm","$parcel$interopDefault","id_9","id_j","page","$d00c33acaff8df77$var$pageCardFilm","n","map","el","ENDPOINT","concat","$2SxBx","fetchAllGet","then","$d00c33acaff8df77$var$markUp","catch","console","log","data","_data","original_title","poster_path","genre_ids","vote_average","release_date","cardFilm","String","slice","$4Nugj","refs","galeryLibrary","insertAdjacentHTML","push","galeryLibraryBtn","textContent","classList","toggle","addEventListener","$d00c33acaff8df77$var$handlerBtnLoad","e","preventDefault","currentTarget","removeEventListener"],"version":3,"file":"library.6ee56ce5.js.map"}