{"mappings":"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","sources":["src/js/month.js","src/js/weekly.js","src/js/createMarkupCard.js"],"sourcesContent":["\n// import axios from 'axios';\nimport {fetchAllGet} from './fetchAllGet';\nimport { refs } from './refs';\nconst BASE_GENRE_URL = 'https://api.themoviedb.org';\nconst ENDPOINT_GENRE = '/3/genre/movie/list';\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/original/';\nconst BASE_IMG_URL_w500 = 'https://image.tmdb.org/t/p/w500/';\nconst BASE_UPCOMING_URL = 'https://api.themoviedb.org';\nconst ENDPOINT_UPCOMING = '/3/movie/upcoming';\n\nconst API_KEY = '5bf13f442a6612ea903461e28536fdca';\n// '057e36269a3ddafbb398756699f3ba82';\n\nconst respGenre = fetchAllGet(BASE_GENRE_URL, ENDPOINT_GENRE, API_KEY, '');\n\nif (localStorage.getItem(\"theme\")){\n    const root = document.querySelector(':root');\n    root.style.setProperty('--primary-title-color', '#111111');\n    root.style.setProperty('--primary-vote-color', '#111111');\n    root.style.setProperty('--primary-vote-color-text', '#282828');\n    root.style.setProperty('--primary-about-text', '#282828');\n} \n\nfetchAllGet(BASE_UPCOMING_URL, ENDPOINT_UPCOMING, API_KEY,'&language=en-US&page=1')\n.then(markUp);\n\nasync function genreStr(arr){\n        const data = await respGenre;\n        return arr.map((el)=>el = data.data.genres.filter(({id})=>id == el)[0].name).join(', ');\n      \n }\n\nasync function markUp(data){\n    \n    const randCard = Math.floor(Math.random() * 20);\n    data.data.results.map(async ({backdrop_path, poster_path, title, original_title, id, release_date, vote_average, vote_count, popularity, overview, genre_ids},i)=>{\n        if (i===randCard)\n        {\n            \n            const str = `<div class=\"month-item\" id=\"${id}\">\n                            <div>\n                            <div class=\"month-item-img\">\n                                <picture>\n                                    <source srcset=\"${BASE_IMG_URL}${backdrop_path}\" media=\"(min-width: 768px)\" width=\"805\"/>\n                                    <img src=\"${BASE_IMG_URL_w500}${poster_path}\" alt=\"${original_title}\"/>\n                                </picture>\n                            </div></div>\n                            <div class=\"month-item-title\">\n                                <h3>${title}</h3>\n                                <div class=\"month-item-title-text\">\n                                    <div>\n                                        <h3>Release date<span class=\"month-rel-date\">${release_date.replaceAll(\n                                          '-',\n                                          '.'\n                                        )}</span></h3>\n                                        <h3>Vote / Votes<span class=\"month-vote\">${vote_average}</span> / <span class=\"month-votes\">${vote_count}</span></h3>\n                                    </div>\n                                    <div>\n                                        <h3>Popularity<span class=\"month-popular\">${parseFloat(\n                                          popularity\n                                        ).toFixed(1)}</span></h3>\n                                        <h3>Genre<span class=\"month-genre\">${await genreStr(\n                                          genre_ids\n                                        )}</span></h3>\n                                    </div>\n                                </div>\n                                <p>About</p><span class=\"month-text\">${overview}</span>\n                                <button type=\"submit\" class=\"month-btn button-light\">${textBtn(\n                                  id\n                                )}</button>\n                            </div>\n                         </div>`;\n                        \n            refs.monthGalery.insertAdjacentHTML('beforeend', str);\n            refs.monthBtn = document.querySelector('.month-btn');\n            refs.monthItem = document.querySelector('.month-item');\n            refs.monthBtn.addEventListener('click', handlerBtn);\n            \n        }\n    });\n      \n}\n\nfunction textBtn(id){\n    const idFilm ={\n        id: []\n    }\n    if (localStorage.getItem(\"favoriteFilm\")){\n        idFilm.id = [...JSON.parse(localStorage.getItem(\"favoriteFilm\")).id];\n               \n    }\n    return !idFilm.id.includes(id.toString()) ? 'Add to my library' : 'Remove from my library';\n}\n\nfunction handlerBtn(e){\n    e.preventDefault();\n    const id = refs.monthItem.getAttribute('id');\n    const idFilm ={\n        id: []\n    }\n    if (localStorage.getItem(\"favoriteFilm\")){\n        idFilm.id = [...JSON.parse(localStorage.getItem(\"favoriteFilm\")).id];\n               \n    }\n    if(!idFilm.id.includes(id)){\n        if(e.currentTarget.textContent === 'Add to my library'){e.currentTarget.textContent = 'Remove from  my library';}\n        idFilm.id.push(id);\n        localStorage.setItem(\"favoriteFilm\", JSON.stringify(idFilm));\n    }else {\n        idFilm.id.splice(idFilm.id.indexOf(id),1);\n        localStorage.setItem(\"favoriteFilm\", JSON.stringify(idFilm));\n        e.currentTarget.textContent = 'Add to my library';\n    }\n    \n    \n}","import axios from 'axios';\nimport { createMarkupCard } from './createMarkupCard';\nimport { refs } from './refs';\n\nconst API_KEY = '5bf13f442a6612ea903461e28536fdca';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/all/week';\n\nlet originalData = [];\n\nasync function fetchTrendsOfWeek() {\n  const response = await axios.get(\n    `${BASE_URL}?api_key=${API_KEY}&language=en-US&per_page=20`\n  );\n  originalData = response.data.results;\n  await handleResponsive();\n  window.addEventListener('resize', handleResponsive);\n  return originalData;\n}\n\nasync function handleResponsive() {\n  const screenWidth = window.innerWidth;\n  let slicedData;\n\n  if (screenWidth < 768) {\n    slicedData = originalData.slice(0, 1);\n  } else {\n    slicedData = originalData.slice(0, 3);\n  }\n\n  refs.weeklyList.innerHTML = createMarkupCard(slicedData);\n}\n\nfetchTrendsOfWeek();\n\nexport { fetchTrendsOfWeek };\n","function createMarkupCard({ cardresult }) {\n  const cardMarkUp = cardresult\n    .map(\n      ({\n        original_title,\n        poster_path,\n        vote_average,\n        genre_ids,\n        release_date,\n        id,\n      }) =>\n        `<div class=\"cards-section-backphoto\" style=\"background-image: url('https://image.tmdb.org/t/p/w500l${poster_path}');\" id=\"${id}\">\n    <div class=\"info-cards-section\">\n    <p class=\"info-card-section-title\">${original_title}</p>\n    <p class=\"info-card-section-date\">${release_date}${genre_ids}</p>\n    </div>\n    <div class=\"vote-average-section\">\n    <ul class=\"vote-average-icons\">\n          <li class=\"vote-average-icons-items\">\n            <svg width=\"16.87px\" height=\"15.75px\" class=\"vote-average-icons-items-img\">\n              <use href=\"/src/images/symbol-defs.svg#icon-empty-star\">\n              </use>\n            </svg>\n          </li>\n          <li class=\"vote-average-icons-items\">\n            <svg width=\"16.87px\" height=\"15.75px\" class=\"vote-average-icons-items-img\">\n              <use href=\"/src/images/symbol-defs.svg#icon-empty-star\">\n              </use>\n            </svg>\n          </li>\n          <li class=\"vote-average-icons-items\">\n            <svg width=\"16.87px\" height=\"15.75px\" class=\"vote-average-icons-items-img\">\n              <use href=\"/src/images/symbol-defs.svg#icon-empty-star\">\n              </use>\n            </svg>\n          </li>\n          <li class=\"vote-average-icons-items\">\n            <svg width=\"16.87px\" height=\"15.75px\" class=\"vote-average-icons-items-img\">\n              <use href=\"/src/images/symbol-defs.svg#icon-empty-star\">\n              </use>\n            </svg>\n          </li>\n    </ul>\n    </div>\n    </div>`\n    )\n    .join('');\n  return cardMarkUp;\n}\n\nexport { createMarkupCard };\n"],"names":["$h4A4X","parcelRequire","$46a31d57eb81e4f1$var$respGenre","fetchAllGet","localStorage","getItem","root","document","querySelector","style","setProperty","$46a31d57eb81e4f1$var$handlerBtn","e","preventDefault","id","$krGWQ","refs","monthItem","getAttribute","idFilm","JSON","parse","includes","splice","indexOf","setItem","stringify","currentTarget","textContent","push","then","async","data","randCard","Math","floor","random","results","map","backdrop_path","poster_path","title","original_title","release_date","vote_average","vote_count","popularity","overview","genre_ids","i","str","replaceAll","parseFloat","toFixed","arr","el","genres","filter","name","join","$46a31d57eb81e4f1$var$genreStr","toString","$46a31d57eb81e4f1$var$textBtn","monthGalery","insertAdjacentHTML","monthBtn","addEventListener","$2shzp","$77c4f477db9ee20f$export$98f2023ceafec56e","cardresult","$c10c282de78da56f$var$originalData","$c10c282de78da56f$var$handleResponsive","slicedData","window","innerWidth","slice","weeklyList","innerHTML","response","default","get","$c10c282de78da56f$export$93a1f08ed04db2b3"],"version":3,"file":"index.0140c6c3.js.map"}