!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=e.parcelRequire66be;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},e.parcelRequire66be=o);var a=o("bpxeT"),i=o("8nrFW"),c=o("2TvXO"),s=(a=o("bpxeT"),c=o("2TvXO"),o("dIxxU"));function l(t){return d.apply(this,arguments)}function d(){return d=t(a)(t(c).mark((function e(n){var r,o,a,i,l=arguments;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"",o=l.length>2&&void 0!==l[2]?l[2]:"",a=l.length>3&&void 0!==l[3]?l[3]:"",t.next=3,s.default.get("".concat(n).concat(r,"?api_key=").concat(o,"&").concat(a));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),e)}))),d.apply(this,arguments)}var u={menuBtn:document.querySelector("[data-menu-open]"),menuContainer:document.querySelector("[data-menu]"),menuBackdrop:document.querySelector("[data-backdrop]"),body:document.querySelector("body"),homeHeroFilmWraper:document.querySelector(".hero-content"),heroTrailerBtn:document.querySelector(".hero-trailer-btn"),goToCatalogBtn:document.querySelector(".go-to-catalog-btn"),homeHero:document.querySelector(".home-hero"),monthGalery:document.querySelector(".monthgalery")},p="https://image.tmdb.org/t/p/original/",m="https://image.tmdb.org/t/p/w500/",h="5bf13f442a6612ea903461e28536fdca",g=l("https://api.themoviedb.org","/3/genre/movie/list",h,"");function f(t){return v.apply(this,arguments)}function v(){return(v=t(a)(t(c).mark((function e(n){var r;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g;case 2:return r=t.sent,t.abrupt("return",n.map((function(t){return t=r.data.genres.filter((function(e){return e.id==t}))[0].name})).join(" "));case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function b(){return b=t(a)(t(c).mark((function e(n){var r;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.floor(20*Math.random()),n.data.results.map(function(){var e=t(a)(t(c).mark((function e(n,o){var a,i,s,l,d,h,g,v,b,w,S,k;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.backdrop_path,i=n.poster_path,s=n.title,l=n.original_title,d=n.id,h=n.release_date,g=n.vote_average,v=n.vote_count,b=n.popularity,w=n.overview,S=n.genre_ids,o!==r){t.next=11;break}return t.t0='<div class="month-item" id="'.concat(d,'">\n                            <div class="month-item-img">\n                                <picture>\n                                    <source srcset="').concat(p).concat(a,'" media="(min-width: 768px)" width="805"/>\n                                    <img src="').concat(m).concat(i,'" alt="').concat(l,'"/>\n                                </picture>\n                            </div>\n                            <div class="month-item-title">\n                                <h3>').concat(s,'</h3>\n                                <div class="month-item-title-text">\n                                    <div>\n                                        <h3>Release date<span class="month-rel-date">').concat(h.replaceAll("-","."),'</span></h3>\n                                        <h3>Vote / Votes<span class="month-vote">').concat(g,'</span> / <span class="month-votes">').concat(v,'</span></h3>\n                                    </div>\n                                    <div>\n                                        <h3>Popularity<span class="month-popular">').concat(parseFloat(b).toFixed(1),'</span></h3>\n                                        <h3>Genre<span class="month-genre">'),t.next=5,f(S);case 5:t.t1=t.sent,k=t.t0.concat.call(t.t0,t.t1,'</span></h3>\n                                    </div>\n                                </div>\n                                <p>About</p><span class="month-text">').concat(w,'</span>\n                                <button type="submit" class="month-btn">').concat(y(d),"</button>\n                            </div>\n                         </div>"),u.monthGalery.insertAdjacentHTML("beforeend",k),u.monthBtn=document.querySelector(".month-btn"),u.monthItem=document.querySelector(".month-item"),u.monthBtn.addEventListener("click",x);case 11:case"end":return t.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function y(e){var n={id:[]};return localStorage.getItem("favoriteFilm")&&(n.id=t(i)(JSON.parse(localStorage.getItem("favoriteFilm")).id)),n.id.includes(e.toString())?"Remove from my library":"Add to my library"}function x(e){e.preventDefault();var n=u.monthItem.getAttribute("id"),r={id:[]};localStorage.getItem("favoriteFilm")&&(r.id=t(i)(JSON.parse(localStorage.getItem("favoriteFilm")).id)),r.id.includes(n)?(r.id.splice(r.id.indexOf(n),1),localStorage.setItem("favoriteFilm",JSON.stringify(r)),e.currentTarget.textContent="Add to my library"):("Add to my library"===e.currentTarget.textContent&&(e.currentTarget.textContent="Remove from  my library"),r.id.push(n),localStorage.setItem("favoriteFilm",JSON.stringify(r)))}l("https://api.themoviedb.org","/3/movie/upcoming",h,"&language=en-US&page=1").then((function(t){return b.apply(this,arguments)}));a=o("bpxeT"),c=o("2TvXO"),s=o("dIxxU");function w(){return(w=t(a)(t(c).mark((function e(){var n;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://api.themoviedb.org/3","/trending/movie/day","5bf13f442a6612ea903461e28536fdca",t.next=5,s.default.get("".concat("https://api.themoviedb.org/3").concat("/trending/movie/day","?api_key=").concat("5bf13f442a6612ea903461e28536fdca"));case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function S(){u.menuBackdrop.classList.toggle("visual_hidden"),u.menuContainer.classList.toggle("is-open"),u.body.classList.toggle("is-open")}(function(){return w.apply(this,arguments)})().then((function(t){var e,n,r,o,a,i,c,s,l=t.data.results[0];console.log(l),l||u.homeHero.classList.remove("is-hidden"),u.homeHeroFilmWraper.insertAdjacentHTML("beforeend",(n=(e=l).original_title,r=e.poster_path,o=e.vote_average,a=e.overview,i=e.id,c="https://image.tmdb.org/t/p/w500".concat(r),s="https://image.tmdb.org/t/p/w1000".concat(r),'\n        <div class="home-hero-film" style="\n        background-image: linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%),url(\''.concat(c,"');\n        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n        background-image: linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%), url('").concat(s,'\');\n        }\n        ">\n        <h2 class="home-hero-title">').concat(n,'</h2>\n        <p class="home-hero-rate">').concat(o,'</p>\n        <p class="home-hero-overview">').concat(a,'</p>\n        <div class="home-hero-btns">\n        <button data-trailer-open type="button" class="hero-trailer-btn" id="').concat(i,'">\n            Watch trailer\n            </button>\n            <button data-gocatalog-open type="button" class="go-to-catalog-btn" id="').concat(i,'">\n            More details\n            </button>\n        </div>\n        </div>\n        \n        </div>\n  '))),u.homeHero.classList.add("is-hidden")})).catch((function(t){return console.log(t)})),u.menuBtn.addEventListener("click",S),u.menuBackdrop.addEventListener("click",(function(t){t.target===u.menuBackdrop&&S()}))}();
//# sourceMappingURL=index.f019a307.js.map
