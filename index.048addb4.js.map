{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-4619755a7ef6219b.js","src/index.js","src/js/month.js","src/js/weekly.js","node_modules/@parcel/runtime-js/lib/runtime-060e0bf997b2211d.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.048addb4.js\\\",\\\"3ySAM\\\":\\\"reitingfull.b145141b.svg\\\",\\\"eunLf\\\":\\\"catalog.7abf1802.css\\\",\\\"hBuIx\\\":\\\"library.9f4fe25c.js\\\"}\"));","import './js/pre-loader-spinner';\nimport './js/month';\nimport './js/hero';\nimport './js/mobile-menu';\nimport './js/activMenu';\nimport './js/theme-switcher';\nimport './js/weekly';\nimport './js/modal-trailer';\nimport './js/modal-footer';\nimport './js/scroll-to-top';\nimport './js/modal-film';\n","import {fetchAllGet} from './fetchAllGet';\nimport { refs } from './refs';\nconst BASE_GENRE_URL = 'https://api.themoviedb.org';\nconst ENDPOINT_GENRE = '/3/genre/movie/list';\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/original/';\nconst BASE_IMG_URL_w500 = 'https://image.tmdb.org/t/p/w500/';\nconst BASE_UPCOMING_URL = 'https://api.themoviedb.org';\nconst ENDPOINT_UPCOMING = '/3/movie/upcoming';\nimport { checkThemeForDynamikEl} from './theme-switcher';   // for theme \n// console.log(varificationForDynamikEl);\nconst API_KEY = '5bf13f442a6612ea903461e28536fdca';\n// '057e36269a3ddafbb398756699f3ba82';\n// console.log(varificationForDynamikEl);\nconst respGenre = fetchAllGet(BASE_GENRE_URL, ENDPOINT_GENRE, API_KEY, '');\n\nfetchAllGet(BASE_UPCOMING_URL, ENDPOINT_UPCOMING, API_KEY,'&language=en-US&page=1')\n.then(markUp).then(checkThemeForDynamikEl);\n\nasync function genreStr(arr){\n        const data = await respGenre;\n\n        return arr.map((el)=>el = data.data.genres.filter(({id})=>id == el)[0].name).join(', ');\n}\n\n\n\n\nasync function markUp(data){\n    \n    const randCard = Math.floor(Math.random() * 20);\n    data.data.results.map(async ({backdrop_path, poster_path, title, original_title, id, release_date, vote_average, vote_count, popularity, overview, genre_ids},i)=>{\n        if (i===randCard)\n        {\n            \n            const str = `<div class=\"month-item\" id=\"${id}\">\n                            <div>\n                            <div class=\"month-item-img\">\n                                <picture>\n                                    <source srcset=\"${BASE_IMG_URL}${backdrop_path}\" media=\"(min-width: 768px)\" width=\"805\"/>\n                                    <img src=\"${BASE_IMG_URL_w500}${poster_path}\" alt=\"${original_title}\"/>\n                                </picture>\n                            </div></div>\n                            <div class=\"month-item-title\">\n                                <h3 class=\"month-item-title-h3-main theme-dynamic-element theme-element\">${title}</h3>\n                                <div class=\"month-item-title-text\">\n                                    <div>\n                                        <h3 class=\"month-item-title-h3 theme-dynamic-element theme-element\">Release date<span class=\"month-rel-date\">${release_date.replaceAll(\n                                          '-',\n                                          '.'\n                                        )}</span></h3>\n                                        <h3 class=\"month-item-title-h3 theme-dynamic-element theme-element\">Vote / Votes<span class=\"month-vote\">${vote_average}</span> / <span class=\"month-votes\">${vote_count}</span></h3>\n                                    </div>\n                                    <div>\n                                        <h3 class=\"month-item-title-h3 theme-dynamic-element theme-element\">Popularity<span class=\"month-popular\">${parseFloat(\n                                          popularity\n                                        ).toFixed(1)}</span></h3>\n                                        <h3 class=\"month-item-title-h3 theme-dynamic-element theme-element\">Genre<span class=\"month-genre\">${await genreStr(\n                                          genre_ids\n                                        )}</span></h3>\n                                    </div>\n                                </div>\n                                <p class=\"month-item-p theme-dynamic-element theme-element\">About</p><span class=\"month-text theme-dynamic-element theme-element\">${overview}</span>\n                                <button type=\"submit\" class=\"month-btn theme-dynamic-element theme-element button-light\">${textBtn(\n                                  id\n                                )}</button>\n                            </div>\n                         </div>`;\n                        \n            refs.monthGalery.insertAdjacentHTML('beforeend', str);\n            refs.monthBtn = document.querySelector('.month-btn');\n            refs.monthItem = document.querySelector('.month-item');\n            refs.monthBtn.addEventListener('click', handlerBtn);\n            \n        }\n    });\n      \n}\n\nfunction textBtn(id){\n    const idFilm ={\n        id: []\n    }\n    if (localStorage.getItem(\"favoriteFilm\")){\n        idFilm.id = [...JSON.parse(localStorage.getItem(\"favoriteFilm\")).id];\n               \n    }\n    return !idFilm.id.includes(id.toString()) ? 'Add to my library' : 'Remove from my library';\n}\n\nfunction handlerBtn(e){\n    e.preventDefault();\n    const id = refs.monthItem.getAttribute('id');\n    const idFilm ={\n        id: []\n    }\n    if (localStorage.getItem(\"favoriteFilm\")){\n        idFilm.id = [...JSON.parse(localStorage.getItem(\"favoriteFilm\")).id];\n               \n    }\n    if(!idFilm.id.includes(id)){\n        if(e.currentTarget.textContent === 'Add to my library'){e.currentTarget.textContent = 'Remove from  my library';}\n        idFilm.id.push(id);\n        localStorage.setItem(\"favoriteFilm\", JSON.stringify(idFilm));\n    }else {\n        idFilm.id.splice(idFilm.id.indexOf(id),1);\n        localStorage.setItem(\"favoriteFilm\", JSON.stringify(idFilm));\n        e.currentTarget.textContent = 'Add to my library';\n    }\n    \n    \n}\n\nexport { genreStr }","import axios from 'axios';\nimport { refs } from './refs';\nimport ratingStarFull from '../images/reitingfull.svg';\nimport { genreStr } from './month';\nimport { handlerClickcardsSectionBackphoto } from './modal-film';\n\nconst API_KEY = '5bf13f442a6612ea903461e28536fdca';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/all/week';\n\nlet originalData = [];\nconst randomIndex = Math.floor(Math.random() * 100);\n\nasync function fetchTrendsOfWeek() {\n  const response = await axios.get(\n    `${BASE_URL}?api_key=${API_KEY}&language=en-US&page=${randomIndex}`\n  );\n  console.log(randomIndex);\n  originalData = response.data.results;\n  handleResponsive();\n\n  return originalData;\n}\n// window.addEventListener('resize', handleResponsive);\nfunction handleResponsive() {\n  const screenWidth = window.innerWidth;\n  let slicedData = [];\n  console.log(slicedData);\n  // if (screenWidth < 768) {\n  //   return (slicedData = originalData.slice(0, 1));\n  // }\n  // slicedData = originalData.slice(0, 3);\n  slicedData = originalData.slice(0, 3);\n  createMarkupCard(slicedData);\n}\n\nfetchTrendsOfWeek();\n\nexport { fetchTrendsOfWeek };\n\nfunction createMarkupCard(cardresult) {\n  const cardMarkUp = cardresult\n    .map(\n      async({\n        original_title,\n        poster_path,\n        vote_average,\n        genre_ids,\n        release_date,\n        id,\n      }, i) =>{\n        const genresLine = await genreStr(genre_ids); \n        const str =`<a href=\"#\" class=\"card-film\" id=\"${id}\">\n        <div class=\"card-backdrop\"></div>\n        <img\n          class=\"card-img\"\n          src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n          alt=\"\"\n          loading=\"lazy\"\n          srcset=\"\n            https://image.tmdb.org/t/p/w500${poster_path} 1x,\n            https://image.tmdb.org/t/p/w500${poster_path} 2x\n          \"\n        />\n        <div class=\"card-info-section\">\n          <h3 class=\"card-info-title\">${original_title}</h3>\n          <div class=\"card-info\">\n            <p class=\"card-info-text\">\n            ${genresLine} | ${String(release_date).slice(0, 4)}\n            </p>\n            <ul class=\"card-vote\">\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n              <li class=\"card-vote-items\">\n                <img\n                  class=\"card-vote-icon\"\n                  src=\"${ratingStarFull}\"\n                  alt=\"Rating Stars\"\n                />\n              </li>\n            </ul>\n          </div>\n        </div>\n      </a>`;\n      refs.weeklyList.insertAdjacentHTML('beforeend', str);\n      if (2 === i){\n        refs.cardsSectionBackphoto = document.querySelectorAll('.card-film');\n        refs.cardsSectionBackphoto.forEach(el =>\n        el.addEventListener('click', handlerClickcardsSectionBackphoto)\n      );}\n      }\n    );\n      \n  // refs.weeklyList.insertAdjacentHTML('beforeend', cardMarkUp);\n\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"3ySAM\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$1b91ffc64d36c7b6$var$BASE_IMG_URL","$1b91ffc64d36c7b6$var$BASE_IMG_URL_w500","$1b91ffc64d36c7b6$var$API_KEY","$1b91ffc64d36c7b6$var$respGenre","$2SxBx","fetchAllGet","$1b91ffc64d36c7b6$export$ba47833774196c98","arr","$1b91ffc64d36c7b6$var$_genreStr","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","_ctx","sent","map","el","genres","filter","param","id","name","join","$1b91ffc64d36c7b6$var$_markUp","_callee1","randCard","Math","floor","random","results","i","backdrop_path","poster_path","title","original_title","release_date","vote_average","vote_count","popularity","overview","genre_ids","str","concat","replaceAll","parseFloat","toFixed","t0","call","t1","$1b91ffc64d36c7b6$var$textBtn","$4Nugj","refs","monthGalery","insertAdjacentHTML","monthBtn","document","querySelector","monthItem","addEventListener","$1b91ffc64d36c7b6$var$handlerBtn","idFilm","localStorage","getItem","$8nrFW","includes","toString","e","preventDefault","getAttribute","splice","indexOf","setItem","stringify","currentTarget","textContent","push","then","$2Z7mb","checkThemeForDynamikEl","$beeb29893f2c89e8$exports","getBundleURL","resolve","$7efa00ec3586167e$var$API_KEY","$7efa00ec3586167e$var$BASE_URL","$7efa00ec3586167e$var$originalData","$7efa00ec3586167e$var$randomIndex","$7efa00ec3586167e$var$_fetchTrendsOfWeek","response","$dIxxU","default","get","console","log","$7efa00ec3586167e$var$handleResponsive","window","innerWidth","slicedData","slice","genresLine","String","weeklyList","cardsSectionBackphoto","querySelectorAll","forEach","$73ES2","handlerClickcardsSectionBackphoto","$7efa00ec3586167e$export$93a1f08ed04db2b3"],"version":3,"file":"index.048addb4.js.map"}