{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAWMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAOF,SAASC,cAAc,YAEpCF,EAAKI,iBAAiB,UAItB,SAAkBC,GAChBA,EAAEC,iBAEFC,EAAO,EACPJ,EAAKK,UAAY,GACjB,MAAMC,YAAEA,GAAgBJ,EAAEK,cAAcC,SAExC,GADAC,EAAQH,EAAYI,MAAMC,QACrBF,EACH,OAtBcG,OAAOC,EAAOC,UACjB,EAAAnB,EAAAoB,SACX,4FAAwCF,2BAsB1CG,CAAUP,GAAaQ,MAAK,EAACC,KAAEA,MAC7BC,QAAQC,IAAIF,GACgB,IAAxBA,EAAKG,QAAQC,QAOrB,UAAsBD,QAAEA,IACtB,MAAME,EAASF,aAAA,EAAAA,EACXG,KACA,EAACC,YACCA,EAAWC,eACXA,EAAcC,GACdA,EAAEC,aACFA,EAAYC,aACZA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,UACVA,KACI,6EACiBP,WAAqBC,4DACxBC,mEAEQD,yEAGFE,yEAGAC,uEAGFC,uEAGAC,sEAGDC,kCAKxBC,KAAK,IACRjC,EAAKkC,mBAAmB,YAAaX,E,CA1CjCY,CAAajB,EAAK,G,IAjBxB,IAAId,EAAO,EACPK,EAAQ","sources":["src/js/catalog-search-and-markup.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '5bf13f442a6612ea903461e28536fdca';\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie';\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/original/';\n\nconst getMovies = async (title, currentPage) => {\n  return await axios(\n    `${BASE_URL}?api_key=${API_KEY}&query=${title}&language=en-US&page=1`\n  );\n};\n// https://api.themoviedb.org/3/search/movie?api_key=057e36269a3ddafbb398756699f3ba82&query=Fight%20Club&include_adult=false&language=en-US&page=1\n\nconst form = document.querySelector('#search-form');\nconst wrap = document.querySelector('.gallery');\n\nform.addEventListener('submit', onSubmit);\nlet page = 1;\nlet value = '';\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  page = 1;\n  wrap.innerHTML = '';\n  const { searchQuery } = e.currentTarget.elements;\n  value = searchQuery.value.trim();\n  if (!value) {\n    return;\n  }\n  getMovies(value, page).then(({ data }) => {\n    console.log(data);\n    if (data.results.length === 0) {\n    } else {\n      createMarkup(data);\n    }\n  });\n}\n\nfunction createMarkup({ results }) {\n  const markup = results\n    ?.map(\n      ({\n        poster_path,\n        original_title,\n        id,\n        release_date,\n        vote_average,\n        vote_count,\n        popularity,\n        genre_ids,\n      }) => `<div class=\"photo-card\">\n  <img src=\"${BASE_IMG_URL}${poster_path}\" alt=\"${original_title}\" loading=\"lazy\" width=\"330\"/>\n  <div class=\"info\" id=\"${id}\">\n    <p class=\"info-item\">\n      <b>original_title</b></br>${original_title}\n    </p>\n    <p class=\"info-item\">\n      <b>release_date</b></br>${release_date}\n    </p>\n    <p class=\"info-item\">\n      <b>vote_average</b></br>${vote_average}\n    </p>\n    <p class=\"info-item\">\n      <b>vote_count</b></br>${vote_count}\n    </p>\n    <p class=\"info-item\">\n      <b>popularity</b></br>${popularity}\n    </p>\n    <p class=\"info-item\">\n      <b>genre_ids</b></br>${genre_ids}\n    </p>\n  </div>\n</div>`\n    )\n    .join('');\n  wrap.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$2shzp","parcelRequire","$20cdd2ff1028ad2c$var$form","document","querySelector","$20cdd2ff1028ad2c$var$wrap","addEventListener","e","preventDefault","$20cdd2ff1028ad2c$var$page","innerHTML","searchQuery","currentTarget","elements","$20cdd2ff1028ad2c$var$value","value","trim","async","title","currentPage","default","$20cdd2ff1028ad2c$var$getMovies","then","data","console","log","results","length","markup","map","poster_path","original_title","id","release_date","vote_average","vote_count","popularity","genre_ids","join","insertAdjacentHTML","$20cdd2ff1028ad2c$var$createMarkup"],"version":3,"file":"catalog.c3079ea4.js.map"}