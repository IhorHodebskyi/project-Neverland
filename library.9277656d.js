!function(){function e(e,r,n,t){Object.defineProperty(e,r,{get:n,set:t,enumerable:!0,configurable:!0})}function r(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=n.parcelRequire66be;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){a[e]=r},n.parcelRequire66be=i),i.register("iE7OH",(function(r,n){var t,a;e(r.exports,"register",(function(){return t}),(function(e){return t=e})),e(r.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};t=function(e){for(var r=Object.keys(e),n=0;n<r.length;n++)i[r[n]]=e[r[n]]},a=function(e){var r=i[e];if(null==r)throw new Error("Could not resolve bundle with id "+e);return r}})),i.register("aNJCr",(function(r,n){var t;e(r.exports,"getBundleURL",(function(){return t}),(function(e){return t=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}t=function(e){var r=a[e];return r||(r=function(){try{throw new Error}catch(r){var e=(""+r.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=r),r}})),i("iE7OH").register(JSON.parse('{"2Y0K8":"library.9277656d.js","kxKJ3":"symbol-defs.7dab1f6b.svg","3ySAM":"reitingfull.b145141b.svg","c5Lhd":"reitinghalf.68072f94.svg","gScEp":"reitingzero.83703bb2.svg","eunLf":"catalog.496b64c1.css","hBuIx":"library.69a33d05.js"}')),i("hPFYs"),i("cs7FV"),i("kNpmX"),i("ijwS8"),i("gVa74"),i("2Z7mb"),i("5YNLl");var l,o=i("8nrFW"),s=i("2SxBx"),c=i("4Nugj");l=i("aNJCr").getBundleURL("2Y0K8")+i("iE7OH").resolve("3ySAM");var d;d=i("aNJCr").getBundleURL("2Y0K8")+i("iE7OH").resolve("c5Lhd");var u;u=i("aNJCr").getBundleURL("2Y0K8")+i("iE7OH").resolve("gScEp");var f;f=i("aNJCr").getBundleURL("2Y0K8")+i("iE7OH").resolve("kxKJ3");var g="https://api.themoviedb.org",v="5bf13f442a6612ea903461e28536fdca";function y(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(null===(e=JSON.parse(localStorage.getItem("favoriteFilm")))||void 0===e?void 0:e.id.length){var t={id:r(o)(JSON.parse(localStorage.getItem("favoriteFilm")).id),id_9:[],id_j:[],page:1};function a(){var e=[],r=[];return t.id.map((function(n,t){t++,e.push(n),t%9==0&&(r.push(e),e=[])})),r.push(e),r}function i(){c.refs.galeryLibraryBtnClose=document.querySelectorAll(".galery-library-btn-close"),c.refs.galeryLibraryBtnCloseSpan=document.querySelectorAll(".card-backdrop + span"),c.refs.cardFilm1=document.querySelectorAll(".card-film"),c.refs.galeryLibraryBtnClose.forEach((function(e,r){e.addEventListener("mouseover",(function(e){c.refs.galeryLibraryBtnCloseSpan[r].classList.toggle("visually-hidden")})),e.addEventListener("mouseout",(function(e){c.refs.galeryLibraryBtnCloseSpan[r].classList.toggle("visually-hidden")})),e.addEventListener("click",(function(e){y(e,c.refs.cardFilm1[r].getAttribute("id"),r)}))}))}function y(e,r,n){e.preventDefault(),"BUTTON"===e.target.nodeName&&(t.id.splice(t.id.indexOf(r),1),t.id_9.splice(t.id.indexOf(r),1),localStorage.setItem("favoriteFilm",JSON.stringify(t)),c.refs.cardFilm1[n].classList.add("visually-hidden"))}function p(e){t.id_9=a(),t.id_9[e].map((function(e,r,n){var t="/3/movie/".concat(e);(0,s.fetchAllGet)(g,t,v,"&language=en-US&page=1").then(h).catch(console.log).finally((function(){r===n.length-1&&i()}))}))}function b(e,t){var a="";c.refs.galeryLibraryBtn.classList.add("visually-hidden");for(var i=e.data,o=i.original_title,s=i.poster_path,f=i.vote_average,g=i.genres,v=i.release_date,y=i.id,p=Number(f),b=Math.round(p),h="",L=1;L<=5;L++){var S=2*L;h+='<img class="card-vote-icon" src="'.concat(r(S<=b?l:S%b==1?d:u),'" alt="Rating Stars" />')}g.map((function(e){return e.name})).join(", ").toLowerCase().includes(n)&&(a=m(r(l),g,v,o,s,y,h),c.refs.galeryLibrary.insertAdjacentHTML("beforeend",a))}function h(e){for(var t=e.data,a=t.original_title,i=t.poster_path,o=t.vote_average,s=t.genres,f=t.release_date,g=t.id,v="",y=Number(o),p=Math.round(y),b="",h=1;h<=5;h++){var L=2*h;b+='<img class="card-vote-icon" src="'.concat(r(L<=p?l:L%p==1?d:u),'" alt="Rating Stars" />')}"all"===n&&(v=m(r(l),s,f,a,i,g,b),c.refs.galeryLibrary.insertAdjacentHTML("beforeend",v))}function m(e,n,t,a,i,l,o){return'\n  <div class="card-film" id="'.concat(l,'">\n    <div class="card-backdrop"></div>\n    <span class="visually-hidden">Delete from Library</span>\n    <button class="galery-library-btn-close modal-film-btn-close">\n    <svg class="modal-film-icon-close">\n      <use href="').concat(r(f),'#icon-x"></use>\n    </svg>\n    </button>\n    <img\n      class="card-img"\n      src="https://image.tmdb.org/t/p/w500').concat(i,'"\n      alt=""\n      loading="lazy"\n      srcset="\n        https://image.tmdb.org/t/p/w500').concat(i," 1x,\n        https://image.tmdb.org/t/p/w500").concat(i,' 2x\n      "\n    />\n    <div class="card-info-section">\n      <h3 class="card-info-title">').concat(a,'</h3>\n      <div class="card-info">\n        <p class="card-info-text">\n        ').concat(n.map((function(e){return e.name})).join(", ")," | ").concat(String(t).slice(0,4),'\n        </p>\n        <ul class="card-vote">\n                ').concat(o,"\n        </ul>\n\n      </div>\n    </div>\n  </div>\n\n")}function L(e){e.preventDefault(),p(t.page++),t.id_9.length===t.page&&e.currentTarget.classList.add("visually-hidden")}t.id.length>9?c.refs.galeryLibraryBtn.classList.remove("visually-hidden"):c.refs.galeryLibraryBtn.classList.add("visually-hidden"),"all"===n?p(0):t.id.map((function(e,r){var n="/3/movie/".concat(e);(0,s.fetchAllGet)(g,n,v,"&language=en-US&page=1").then(b).catch(console.log)})),c.refs.galeryLibraryBtn.addEventListener("click",L)}else{c.refs.galeryLibraryBtn.addEventListener("click",_);var S='<div class="galery-library-text"><span>OOPS...</span><span>We are very sorry!</span><span>You donâ€™t have any movies at your library.</span></div>';function _(e){e.preventDefault(),e.currentTarget.removeEventListener("click",_),location.href="./catalog.html"}c.refs.galeryLibrary.insertAdjacentHTML("beforeend",S),c.refs.galeryLibraryBtn.textContent="Search movie",c.refs.galeryLibraryBtn.textContent="Search movie",c.refs.galeryLibrarySelect.classList.add("visually-hidden")}}y(),c.refs.galeryLibrarySelect.addEventListener("change",(function(e){c.refs.galeryLibraryBtn.classList.remove("visually-hidden"),c.refs.galeryLibrary.textContent="",y(e.currentTarget.value)})),i("8vL8o")}();
//# sourceMappingURL=library.9277656d.js.map
