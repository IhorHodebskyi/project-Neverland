{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,0BAIMC,EAAe,uCAEfC,G,EAAYC,EAAAJ,EAAA,CAAAI,EAAAC,GAAAC,MAAA,SAAAC,EAAOC,EAAOC,G,mFACb,EAAAC,EAAAC,SAAM,GAAuBC,OAJ/B,4CAIoB,aAA4BA,OALjD,mCAKwC,WAAeA,OAANJ,EAAM,2B,4FAD9CA,EAAOC,G,iCAO1BI,EAAOC,SAASC,cAAc,gBAC9BC,EAAOF,SAASC,cAAc,YAEpCF,EAAKI,iBAAiB,UAItB,SAAkBC,GAChBA,EAAEC,iBAEAC,EAAO,EACPJ,EAAKK,UAAY,GACjB,IAAMC,EAAkBJ,EAAEK,cAAcC,SAAhCF,YAER,KADAG,EAAQH,EAAYI,MAAMC,QAEtB,OAEJxB,EAAUsB,EAAML,GAAMQ,MAAK,SAAAC,G,IAaTC,EACZC,EAdwBC,EAAIH,EAAJG,KAC3BC,QAAQC,IAAIF,GACU,IAAxBA,EAAKF,QAAQK,SAWIL,EANHE,EAMIF,QACbC,EAAOD,aAAA,EAAAA,EAASM,KAAK,SAAAP,G,IAAEQ,EAAWR,EAAXQ,YAAaC,EAAcT,EAAdS,eAAgBC,EAAEV,EAAFU,GAAIC,EAAYX,EAAZW,aAAcC,EAAYZ,EAAZY,aAAcC,EAAUb,EAAVa,WAAYC,EAAUd,EAAVc,WAAaC,EAASf,EAATe,U,MAAc,yCACxGhC,OAAfV,GAAoCU,OAArByB,EAAY,WACfzB,OADwB0B,EAAe,4DAG/B1B,OAFR2B,EAAG,mEAKG3B,OAHE0B,EAAe,yEAMjB1B,OAHA4B,EAAa,yEAMf5B,OAHE6B,EAAa,uEAMf7B,OAHA8B,EAAW,uEAMZ9B,OAHC+B,EAAW,sEAGF/B,OAAVgC,EAAU,+B,IAG9BC,KAAK,IACZ7B,EAAK8B,mBAAmB,YAAaf,G,OAlDvC,IAAIX,EAAO,EACPK,EAAQ,E","sources":["src/js/catalog-search-and-markup.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"5bf13f442a6612ea903461e28536fdca\";\nconst BASE_URL = \"https://api.themoviedb.org/3/search/movie\";\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/original/';\n\nconst getMovies = async (title, currentPage) => {\n      return await axios(`${BASE_URL}?api_key=${API_KEY}&query=${title}&language=en-US&page=1`);\n}\n// https://api.themoviedb.org/3/search/movie?api_key=057e36269a3ddafbb398756699f3ba82&query=Fight%20Club&include_adult=false&language=en-US&page=1\n\n\n\nconst form = document.querySelector(\"#search-form\");\nconst wrap = document.querySelector(\".gallery\")\n\nform.addEventListener(\"submit\", onSubmit);\nlet page = 1;\nlet value = \"\";\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n    page = 1;\n    wrap.innerHTML = \"\";\n    const { searchQuery } = e.currentTarget.elements;\n    value = searchQuery.value.trim();\n    if (!value) {\n        return;\n    }\n    getMovies(value,page).then(({ data } ) => {\n       console.log(data)\n if (data.results.length === 0) {\n      \n       }    \n  else\n    {\n      createMarkup(data); }\n    })    \n\n    \n}  \n  \nfunction createMarkup({results}) {\n    const markup=results?.map (({poster_path ,original_title, id, release_date, vote_average, vote_count, popularity,  genre_ids})=> `<div class=\"photo-card\">\n  <img src=\"${BASE_IMG_URL}${poster_path}\" alt=\"${original_title}\" loading=\"lazy\" width=\"330\"/>\n  <div class=\"info\" id=\"${id}\">\n    <p class=\"info-item\">\n      <b>original_title</b></br>${original_title}\n    </p>\n    <p class=\"info-item\">\n      <b>release_date</b></br>${release_date}\n    </p>\n    <p class=\"info-item\">\n      <b>vote_average</b></br>${vote_average}\n    </p>\n    <p class=\"info-item\">\n      <b>vote_count</b></br>${vote_count}\n    </p>\n    <p class=\"info-item\">\n      <b>popularity</b></br>${popularity}\n    </p>\n    <p class=\"info-item\">\n      <b>genre_ids</b></br>${genre_ids}\n    </p>\n  </div>\n</div>`).join('')\n  wrap.insertAdjacentHTML(\"beforeend\", markup); \n}\n\n"],"names":["$bpxeT","parcelRequire","$0667eee3a3d27f44$var$BASE_IMG_URL","$0667eee3a3d27f44$var$getMovies","$parcel$interopDefault","$2TvXO","mark","_callee","title","currentPage","$dIxxU","default","concat","$0667eee3a3d27f44$var$form","document","querySelector","$0667eee3a3d27f44$var$wrap","addEventListener","e","preventDefault","$0667eee3a3d27f44$var$page","innerHTML","searchQuery","currentTarget","elements","$0667eee3a3d27f44$var$value","value","trim","then","param","results","markup","data","console","log","length","map","poster_path","original_title","id","release_date","vote_average","vote_count","popularity","genre_ids","join","insertAdjacentHTML"],"version":3,"file":"catalog.0d73fb8f.js.map"}