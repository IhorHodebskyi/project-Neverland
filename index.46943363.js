!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire66be;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire66be=o);var a=o("bpxeT"),i=o("8nrFW"),c=o("2TvXO"),s=(a=o("bpxeT"),c=o("2TvXO"),o("dIxxU"));function l(e){return u.apply(this,arguments)}function u(){return u=e(a)(e(c).mark((function t(n){var r,o,a,i,l=arguments;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"",o=l.length>2&&void 0!==l[2]?l[2]:"",a=l.length>3&&void 0!==l[3]?l[3]:"",e.next=3,s.default.get("".concat(n).concat(r,"?api_key=").concat(o,"&").concat(a));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),t)}))),u.apply(this,arguments)}var d={menuBtn:document.querySelector("[data-menu-open]"),menuContainer:document.querySelector("data-menu"),menuBackdrop:document.querySelector("[data-backdrop]"),body:document.querySelector("body"),homeHeroFilmWraper:document.querySelector(".hero-content"),heroTrailerBtn:document.querySelector(".hero-trailer-btn"),goToCatalogBtn:document.querySelector(".go-to-catalog-btn"),homeHero:document.querySelector(".home-hero"),monthGalery:document.querySelector(".monthgalery")},p="https://image.tmdb.org/t/p/original/",m="https://image.tmdb.org/t/p/w500/",h="5bf13f442a6612ea903461e28536fdca",f=l("https://api.themoviedb.org","/3/genre/movie/list",h,"");function v(e){return g.apply(this,arguments)}function g(){return(g=e(a)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f;case 2:return r=e.sent,e.abrupt("return",n.map((function(e){return e=r.data.genres.filter((function(t){return t.id==e}))[0].name})).join(" "));case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function y(){return y=e(a)(e(c).mark((function t(n){var r;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Math.floor(20*Math.random()),n.data.results.map(function(){var t=e(a)(e(c).mark((function t(n,o){var a,i,s,l,u,h,f,g,y,w,S,T;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.backdrop_path,i=n.poster_path,s=n.title,l=n.original_title,u=n.id,h=n.release_date,f=n.vote_average,g=n.vote_count,y=n.popularity,w=n.overview,S=n.genre_ids,o!==r){e.next=11;break}return e.t0='<div class="month-item" id="'.concat(u,'">\n                            <div class="month-item-img">\n                                <picture>\n                                    <source srcset="').concat(p).concat(a,'" media="(min-width: 768px)" width="805"/>\n                                    <img src="').concat(m).concat(i,'" alt="').concat(l,'"/>\n                                </picture>\n                            </div>\n                            <div class="month-item-title">\n                                <h3>').concat(s,'</h3>\n                                <div class="month-item-title-text">\n                                    <div>\n                                        <h3>Release date<span class="month-rel-date">').concat(h.replaceAll("-","."),'</span></h3>\n                                        <h3>Vote / Votes<span class="month-vote">').concat(f,'</span> / <span class="month-votes">').concat(g,'</span></h3>\n                                    </div>\n                                    <div>\n                                        <h3>Popularity<span class="month-popular">').concat(parseFloat(y).toFixed(1),'</span></h3>\n                                        <h3>Genre<span class="month-genre">'),e.next=5,v(S);case 5:e.t1=e.sent,T=e.t0.concat.call(e.t0,e.t1,'</span></h3>\n                                    </div>\n                                </div>\n                                <p>About</p><span class="month-text">').concat(w,'</span>\n                                <button type="submit" class="month-btn">').concat(b(u),"</button>\n                            </div>\n                         </div>"),d.monthGalery.insertAdjacentHTML("beforeend",T),d.monthBtn=document.querySelector(".month-btn"),d.monthItem=document.querySelector(".month-item"),d.monthBtn.addEventListener("click",x);case 11:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function b(t){var n={id:[]};return localStorage.getItem("favoriteFilm")&&(n.id=e(i)(JSON.parse(localStorage.getItem("favoriteFilm")).id)),n.id.includes(t.toString())?"Remove from my library":"Add to my library"}function x(t){t.preventDefault();var n=d.monthItem.getAttribute("id"),r={id:[]};localStorage.getItem("favoriteFilm")&&(r.id=e(i)(JSON.parse(localStorage.getItem("favoriteFilm")).id)),r.id.includes(n)?(r.id.splice(r.id.indexOf(n),1),localStorage.setItem("favoriteFilm",JSON.stringify(r)),t.currentTarget.textContent="Add to my library"):("Add to my library"===t.currentTarget.textContent&&(t.currentTarget.textContent="Remove from  my library"),r.id.push(n),localStorage.setItem("favoriteFilm",JSON.stringify(r)))}l("https://api.themoviedb.org","/3/movie/upcoming",h,"&language=en-US&page=1").then((function(e){return y.apply(this,arguments)}));a=o("bpxeT"),c=o("2TvXO"),s=o("dIxxU");function w(){return(w=e(a)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3","/trending/movie/day","5bf13f442a6612ea903461e28536fdca",e.next=5,s.default.get("".concat("https://api.themoviedb.org/3").concat("/trending/movie/day","?api_key=").concat("5bf13f442a6612ea903461e28536fdca"));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}(function(){return w.apply(this,arguments)})().then((function(e){var t,n,r,o,a,i=e.data.results[0];console.log(i),i||d.homeHero.classList.remove("is-hidden"),d.homeHeroFilmWraper.insertAdjacentHTML("beforeend",(n=(t=i).original_title,r=t.poster_path,o=t.vote_average,a=t.overview,'<div class = "home-hero-film" >\n    <img src="https://image.tmdb.org/t/p/w500'.concat(r,'" alt="').concat(n,'" class = "home-hero-poster">\n    <h2 class = "home-hero-title">').concat(n,'</h2>\n    <p class = "home-hero-overview">').concat(a,'</p>\n    <p class = "home-hero-rate">').concat(o,"</p>\n    </div>"))),d.homeHero.classList.add("is-hidden"),d.heroTrailerBtn.setAttribute("id","".concat(i.id)),d.goToCatalogBtn.setAttribute("id","".concat(i.id))})).catch((function(e){return console.log(e)}))}();
//# sourceMappingURL=index.46943363.js.map
