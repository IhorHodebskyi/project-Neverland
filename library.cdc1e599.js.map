{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,wMCAzDH,EAAA,S,kECAA,I,EAAAI,EAAAJ,EAAA,S,0BCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SDItH,IAAMC,EAAW,6BACXC,EAAU,mCAehB,SAASC,I,IAAaC,EAAAC,UAAA3B,OAAA,YAAA2B,UAAA,GAAWA,UAAA,GAAL,MAE5B,GAAIV,KAAKC,MAAMU,aAAaC,QAAQ,iBAOpC,CACA,IAAMC,EAAQ,CACV7B,GAAK8B,EAAAZ,EAAA,CAAGF,KAAKC,MAAMU,aAAaC,QAAQ,iBAAiB5B,IACzD+B,KAAK,GACLC,KAAK,GACLC,KAAM,GAMV,SAASC,IACP,IAAIC,EAAE,GACFC,EAAE,GAUN,OATAP,EAAO7B,GAAGqC,KAAI,SAACC,EAAGxC,GAChBA,IACAqC,EAAEI,KAAKD,GACJxC,EAAE,GAAI,IACPsC,EAAEG,KAAKJ,GACPA,EAAE,G,IAGNC,EAAEG,KAAKJ,GACAC,C,CAeT,SAASI,EAAaC,GAEhBZ,EAAOE,KAAOG,IACdL,EAAOE,KAAKU,GAAGJ,KAAI,SAACC,EAAGxC,GAAK,IAAM4C,EAAW,YAAeC,OAAHL,IACzD,EAAAM,EAAAC,aAAYvB,EAAUoB,EAAUnB,EAAQ,0BACvCuB,KAAKC,GACLC,MAAMC,QAAQC,I,IAIrB,SAASC,EAAWC,GAClB,IAAIC,EAAS,GACbC,EAAAC,KAAKC,iBAAiBC,UAAUC,IAAI,mBACpC,IAAgFC,EAAAP,EAAKA,KAA7EQ,EAAwED,EAAxEC,eAAgBC,EAAwDF,EAAxDE,YAA2BC,GAA6BH,EAA3CI,aAA2CJ,EAA7BG,QAAQE,EAAqBL,EAArBK,aAAchE,EAAO2D,EAAP3D,GACtE8D,EAAOzB,KAAI,SAAA4B,G,OAAMA,EAAJC,I,IAAcC,KAAK,MAAMC,cAAcC,SAAS5C,KAC9D4B,EAAWiB,EAAWxC,EAAAX,GAAgB2C,EAAQE,EAAcJ,EAAgBC,EAAa7D,GACzFsD,EAAAC,KAAKgB,cAAcC,mBAAmB,YAAanB,G,CAKvD,SAASN,EAAOK,GACZ,IAAgFO,EAAAP,EAAKA,KAA7EQ,EAAwED,EAAxEC,eAAgBC,EAAwDF,EAAxDE,YAA2BC,GAA6BH,EAA3CI,aAA2CJ,EAA7BG,QAAQE,EAAqBL,EAArBK,aAAchE,EAAO2D,EAAP3D,GACrEqD,EAAS,GACF,QAAR5B,IACD4B,EAAWiB,EAAWxC,EAAAX,GAAgB2C,EAAQE,EAAcJ,EAAgBC,EAAa7D,GACzFsD,EAAAC,KAAKgB,cAAcC,mBAAmB,YAAanB,G,CAKzD,SAASiB,EAAWG,EAAgBX,EAAQE,EAAcJ,EAAgBC,EAAa7D,GACrF,MAAO,kCAKmC2C,OAJb3C,EAAG,2HAQO2C,OAJGkB,EAAY,kGAKflB,OADAkB,EAAY,iDAKjBlB,OAJKkB,EAAY,iGAO3ClB,OAH0BiB,EAAe,sFAGEjB,OAA3CmB,EAAOzB,KAAI,SAAA4B,G,OAAMA,EAAJC,I,IAAcC,KAAK,MAAM,OAM3BxB,OANgC+B,OAAOV,GAAcW,MAAM,EAAG,GAAG,uKAajEhC,OAPA8B,EAAe,6LAcf9B,OAPA8B,EAAe,8LAcf9B,OAPA8B,EAAe,6LAcf9B,OAPA8B,EAAe,6LAOA9B,OAAf8B,EAAe,8H,CAapC,SAASG,EAAeC,GACtBA,EAAEC,iBACFtC,EAAaX,EAAOI,QAEjBJ,EAAOE,KAAKhC,SAAS8B,EAAOI,OAC7B4C,EAAEE,cAActB,UAAUC,IAAI,mBAC9BmB,EAAEE,cAAcC,oBAAoB,QAASJ,G,CApI9C/C,EAAO7B,GAAGD,OAAS,EAAGuD,EAAAC,KAAKC,iBAAiBC,UAAUwB,OAAO,mBAC3D3B,EAAAC,KAAKC,iBAAiBC,UAAUC,IAAI,mBAiB9B,QAARjC,EACDe,EAAa,GAIbX,EAAO7B,GAAGqC,KAAI,SAACC,EAAGxC,GAAK,IAAM4C,EAAW,YAAeC,OAAHL,IACpD,EAAAM,EAAAC,aAAYvB,EAAUoB,EAAUnB,EAAQ,0BACvCuB,KAAKK,GACLH,MAAMC,QAAQC,I,IAkGjBI,EAAAC,KAAKC,iBAAiB0B,iBAAiB,QAASN,E,KA3IK,CACnD,IAAMO,EAAK,oJACX7B,EAAAC,KAAKgB,cAAcC,mBAAmB,YAAaW,GACnD7B,EAAAC,KAAKC,iBAAiB4B,YAAc,eACpC9B,EAAAC,KAAK8B,oBAAoB5B,UAAUC,IAAI,kB,EAlBzClC,IACA8B,EAAAC,KAAK8B,oBAAoBH,iBAAiB,UAG1C,SAAuBL,GACrBvB,EAAAC,KAAKC,iBAAiBC,UAAUwB,OAAO,mBACvC3B,EAAAC,KAAKgB,cAAca,YAAY,GAC/B5D,EAAaqD,EAAEE,cAAcvE,M","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-ac0d6e3701ccca81.js","src/library.js","src/js/galery-library.js","node_modules/@parcel/runtime-js/lib/runtime-583b0f9d048b570b.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library.cdc1e599.js\\\",\\\"3ySAM\\\":\\\"reitingfull.b145141b.svg\\\",\\\"eunLf\\\":\\\"catalog.65ed4ca5.css\\\",\\\"hBuIx\\\":\\\"library.96eaf136.js\\\"}\"));","import './js/pre-loader-spinner';\nimport './js/mobile-menu';\nimport './js/activMenu';\nimport './js/modal-trailer';\nimport './js/hero';\nimport './js/theme-switcher';\nimport './js/modal-footer';\nimport './js/galery-library';\nimport './js/scroll-to-top';","import {fetchAllGet} from './fetchAllGet';\nimport { refs } from \"./refs\";\nimport ratingStarFull from '../images/reitingfull.svg';\n\nconst BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = '5bf13f442a6612ea903461e28536fdca' \n// const BASE_IMG_URL_w500 = 'https://image.tmdb.org/t/p/w500/';\n\nparseLocStor();\nrefs.galeryLibrarySelect.addEventListener('change', handlerSelect);\n// refs.galeryLibrarySelect.classList.add('visually-hidden');\n\nfunction handlerSelect(e){\n  refs.galeryLibraryBtn.classList.remove('visually-hidden');\n  refs.galeryLibrary.textContent='';\n  parseLocStor(e.currentTarget.value);\n \n \n}\n\nfunction parseLocStor(genre='all'){\n  \nif(!JSON.parse(localStorage.getItem(\"favoriteFilm\"))){\n  const str=`<div class=\"galery-library-text\"><span>OOPS...</span><span>We are very sorry!</span><span>You donâ€™t have any movies at your library.</span></div>`;\n  refs.galeryLibrary.insertAdjacentHTML('beforeend', str);\n  refs.galeryLibraryBtn.textContent = \"Search movie\";\n  refs.galeryLibrarySelect.classList.add('visually-hidden');\n}\nelse \n{ \nconst idFilm ={\n    id: [...JSON.parse(localStorage.getItem(\"favoriteFilm\")).id],\n    id_9:[],\n    id_j:[],\n    page: 1,\n}\n\nif(idFilm.id.length > 9){refs.galeryLibraryBtn.classList.remove('visually-hidden');}\nelse refs.galeryLibraryBtn.classList.add('visually-hidden');\n\nfunction createMas(){\n  let m=[];\n  let j=[];\n  idFilm.id.map((el,i)=>{\n    i++;\n    m.push(el);\n    if(i%9===0){\n      j.push(m);\n      m=[];\n    }\n  });\n  j.push(m);\n  return j;\n}\n\nif(genre==='all'){\n  pageCardFilm(0);\n  \n}\nelse {\n  idFilm.id.map((el,i)=>{const ENDPOINT = `/3/movie/${el}`\n  fetchAllGet(BASE_URL, ENDPOINT, API_KEY,'&language=en-US&page=1')\n  .then(markUpSort)\n  .catch(console.log);\n  })\n}\n\nfunction pageCardFilm(n){\n      \n      idFilm.id_9 = createMas();\n      idFilm.id_9[n].map((el,i)=>{const ENDPOINT = `/3/movie/${el}`;\n      fetchAllGet(BASE_URL, ENDPOINT, API_KEY,'&language=en-US&page=1')\n      .then(markUp)\n      .catch(console.log);\n      })\n  }\n\nfunction markUpSort(data){\n  let cardFilm='';\n  refs.galeryLibraryBtn.classList.add('visually-hidden');\n  const { original_title, poster_path, vote_average, genres, release_date, id } = data.data;\n  if(genres.map(({name})=>name).join(', ').toLowerCase().includes(genre)){\n    cardFilm = htmlMarkUp(ratingStarFull, genres, release_date, original_title, poster_path, id);\n    refs.galeryLibrary.insertAdjacentHTML('beforeend', cardFilm);\n  }\n\n}\n\nfunction markUp(data){\n    const { original_title, poster_path, vote_average, genres, release_date, id } = data.data;\n    let cardFilm='';\n    if(genre==='all'){\n      cardFilm = htmlMarkUp(ratingStarFull, genres, release_date, original_title, poster_path, id);\n      refs.galeryLibrary.insertAdjacentHTML('beforeend', cardFilm);\n    }\n        \n}\n\nfunction htmlMarkUp(ratingStarFull, genres, release_date, original_title, poster_path, id){\n  return `\n  <div class=\"card-film\" id=\"${id}\">\n    <div class=\"card-backdrop\"></div>\n    <img\n      class=\"card-img\"\n      src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n      alt=\"\"\n      loading=\"lazy\"\n      srcset=\"\n        https://image.tmdb.org/t/p/w500${poster_path} 1x,\n        https://image.tmdb.org/t/p/w500${poster_path} 2x\n      \"\n    />\n    <div class=\"card-info-section\">\n      <h3 class=\"card-info-title\">${original_title}</h3>\n      <div class=\"card-info\">\n        <p class=\"card-info-text\">\n        ${genres.map(({name})=>name).join(', ')} | ${String(release_date).slice(0, 4)}\n        </p>\n        <ul class=\"card-vote\">\n          <li class=\"card-vote-items\">\n            <img\n              class=\"card-vote-icon\"\n              src=\"${ratingStarFull}\"\n              alt=\"Rating Stars\"\n            />\n          </li>\n          <li class=\"card-vote-items\">\n            <img\n              class=\"card-vote-icon\"\n              src=\"${ratingStarFull}g\"\n              alt=\"Rating Stars\"\n            />\n          </li>\n          <li class=\"card-vote-items\">\n            <img\n              class=\"card-vote-icon\"\n              src=\"${ratingStarFull}\"\n              alt=\"Rating Stars\"\n            />\n          </li>\n          <li class=\"card-vote-items\">\n            <img\n              class=\"card-vote-icon\"\n              src=\"${ratingStarFull}\"\n              alt=\"Rating Stars\"\n            />\n          </li>\n          <li class=\"card-vote-items\">\n            <img\n              class=\"card-vote-icon\"\n              src=\"${ratingStarFull}\"\n              alt=\"Rating Stars\"\n            />\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n`;\n}\nrefs.galeryLibraryBtn.addEventListener('click', handlerBtnLoad);\n\nfunction handlerBtnLoad(e){\n  e.preventDefault();\n  pageCardFilm(idFilm.page++);\n  \n  if(idFilm.id_9.length===idFilm.page){\n    e.currentTarget.classList.add('visually-hidden');\n    e.currentTarget.removeEventListener('click', handlerBtnLoad);\n    \n  } \n}\n}\n}","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"3ySAM\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$8nrFW","$0a0ec80d84cd6ca1$exports","getBundleURL","resolve","$d00c33acaff8df77$var$BASE_URL","$d00c33acaff8df77$var$API_KEY","$d00c33acaff8df77$var$parseLocStor","genre","arguments","localStorage","getItem","idFilm","$parcel$interopDefault","id_9","id_j","page","createMas","m","j","map","el","push","pageCardFilm","n","ENDPOINT","concat","$2SxBx","fetchAllGet","then","markUp","catch","console","log","markUpSort","data","cardFilm","$4Nugj","refs","galeryLibraryBtn","classList","add","_data","original_title","poster_path","genres","vote_average","release_date","param","name","join","toLowerCase","includes","htmlMarkUp","galeryLibrary","insertAdjacentHTML","ratingStarFull1","String","slice","handlerBtnLoad","e","preventDefault","currentTarget","removeEventListener","remove","addEventListener","str","textContent","galeryLibrarySelect"],"version":3,"file":"library.cdc1e599.js.map"}